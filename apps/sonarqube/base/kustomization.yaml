apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: sonarqube
resources:
  - ns.yaml
helmCharts:
- name: sonarqube
  releaseName: sonarqube
  version: 2.0.5
  repo: https://charts.bitnami.com/bitnami
  valuesInline:
    sonarqubeEmail: noreply@devxp-tech.io
    commonLabels:
      app: sonarqube
      version: 9.7.1
    minHeapSize: 1024m
    maxHeapSize: 2048m
    resources:
      requests:
        memory: 1024Mi
        cpu: 100m
      limits:
        memory: 2048Mi
        cpu: 200m
    service:
      type: ClusterIP
    postgresql:
      auth:
        existingSecret: sonarqube-postgresql-secret